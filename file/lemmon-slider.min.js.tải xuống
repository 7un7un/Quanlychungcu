(function(c){function l(b,a,d,c,e){a.items.filter("li:eq("+c+")").addClass("active").siblings(".active").removeClass("active");"undefined"==typeof e&&(e="fast");e?a.animate({scrollLeft:d},e,function(){q(a)}):(a.scrollLeft(d),q(a))}function q(b){var a=b.items.filter(".active");if(a.hasClass("-before")){var c=a.prevAll().size();a.removeClass("active");a=b.items.filter(":not(.-before):eq("+c+")").addClass("active");b.scrollLeft(b.scrollLeft()+a.position().left)}else a.hasClass("-after")&&(c=a.prevAll(".-after").size(), a.removeClass("active"),a=b.items.filter(":not(.-before):eq("+c+")").addClass("active"),b.scrollLeft(b.scrollLeft()+a.position().left))}var h={init:function(b){b=c.extend({},c.fn.lemmonSlider.defaults,b);return this.each(function(){var a=c(this);if(!a.data("slider")){var d=a.find(b.slider),h=a.next().filter(".controls"),e=d.find(b.items),m=1;e.each(function(){m+=c(this).outerWidth(!0)});d.width(m);b.slideToLast&&d.css("padding-right",a.width());b.infinite&&(a.attr("data-slider-infinite",!0),m*=3, d.width(m),e.clone().addClass("-after").insertAfter(e.filter(":last")),e.filter(":first").before(e.clone().addClass("-before")),e=d.find(b.items));a.items=e;a.options=b;a.bind("nextSlide",function(p,h){var f=a.scrollLeft(),k=0,g=0;e.each(function(a){0==k&&1<c(this).position().left&&(k=c(this).position().left,g=a)});0<k&&0<d.outerWidth()-f-a.width()-1?l(p,a,f+k,g,"fast"):b.loop&&l(p,a,0,0,"slow")});a.bind("prevSlide",function(p,h){var f=a.scrollLeft(),k=0,g=0;e.each(function(a){0>c(this).position().left&& (k=c(this).position().left,g=a)});if(k)l(p,a,f+k,g,"fast");else if(b.loop){var f=d.outerWidth()-a.width(),n=e.filter(":last").position().left,g=e.size()-1;f>n?l(p,a,n,g,"fast"):l(p,a,f,g,"fast")}});a.bind("nextPage",function(d,h){var f=a.scrollLeft(),k=a.width(),g=0,n=0;e.each(function(a){c(this).position().left<k&&(g=c(this).position().left,n=a)});0<g&&f+k+1<m?l(d,a,f+g,n,"slow"):b.loop&&l(d,a,0,0,"slow")});a.bind("prevPage",function(h,m){var f=a.scrollLeft(),k=a.width(),g=0;e.each(function(a){c(this).position().left< 1-k&&(g=c(this).next().position().left,slide=a)});if(f)0==g?l(h,a,0,0,"slow"):l(h,a,f+g,slide,"slow");else if(b.loop){var f=d.outerWidth()-a.width(),n=e.filter(":last").position().left;f>n?a.animate({scrollLeft:n},"slow"):a.animate({scrollLeft:f},"slow")}});a.bind("slideTo",function(b,c,d){l(b,a,a.scrollLeft()+e.filter(":eq("+c+")").position().left,c,d)});h.find(".next-slide").click(function(){a.trigger("nextSlide");return!1});h.find(".prev-slide").click(function(){a.trigger("prevSlide");return!1}); h.find(".next-page").click(function(){a.trigger("nextPage");return!1});h.find(".prev-page").click(function(){a.trigger("prevPage");return!1});a.data("slider",{target:a,options:b})}})},addItem:function(b){b=c.extend({},c.fn.lemmonSlider.defaults,b);var a=c(this),d=a.find(b.slider);a.next().filter(".controls");d.find(b.items);b.infinite=a.attr("data-slider-infinite");if(!b.item)return!1;h.destroy.apply(this);b.prepend?d.prepend(b.item):d.append(b.item);h.init.apply(this,[b])},destroy:function(){return this.each(function(){var b= c(this),a=b.next().filter(".controls"),d=b.find("> *:first > *");b.data("slider");b.unbind("nextSlide");b.unbind("prevSlide");b.unbind("nextPage");b.unbind("prevPage");b.unbind("slideTo");a.find(".next-slide").unbind("click");a.find(".prev-slide").unbind("click");a.find(".next-page").unbind("click");a.find(".next-page").unbind("click");b.removeData("slider");b.attr("data-slider-infinite")&&c.merge(d.filter(".-before"),d.filter(".-after")).each(function(a,b){c(b).remove()})})}};c.fn.lemmonSlider=function(b, a){null==a&&(a={});if(h[b])return h[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof b&&b)c.error("Method "+b+" does not exist on jQuery.lemmonSlider");else return h.init.apply(this,arguments)};c.fn.lemmonSlider.defaults={items:"> *",loop:!0,slideToLast:!1,slider:"> *:first",infinite:!1}})(jQuery);